from algomonster.binarysearch.binarysearch import binary_search
from algomonster.binarysearch.findboundary import find_boundary
from algomonster.binarysearch.findfirstoccurrence import find_first_occurrence
from algomonster.binarysearch.firstnotsmaller import first_not_smaller


def test_binary_search():
    assert binary_search([1, 2, 3, 4, 5, 6], 4) == 3


def test_find_boundary():
    assert find_boundary([False, False, False, True, True]) == 3


def test_first_not_smaller():
    test_cases = [
        {
            "name": 'test case 1',
            "input": {
                "arr": [1,
                        3,
                        3,
                        5,
                        8,
                        8,
                        10],
                "target": 2
            },
            "expected": 1
        },
        {
            "name": 'test case 2',
            "input": {
                "arr": [1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10],
                "target": 10
            },
            "expected": 9
        },
        {
            "name": 'test case 3',
            "input": {
                "arr": [
                    1,
                    1,
                    1,
                    1,
                    4,
                    5
                ],
                "target": 3
            },
            "expected": 4
        },
        {
            "name": 'test case 4',
            "input": {
                "arr": [
                    30,
                    250,
                    536,
                    1581,
                    2957,
                    3027,
                    3342,
                    3544,
                    3661,
                    3798,
                    4914,
                    5138,
                    6105,
                    6328,
                    6499,
                    6891,
                    7076,
                    7602,
                    7727,
                    7747,
                    7812,
                    7952,
                    8108,
                    8158,
                    8229,
                    8519,
                    8827,
                    9012,
                    9156,
                    9216,
                    9494,
                    9594,
                    10173,
                    10556,
                    10561,
                    10728,
                    10876,
                    11112,
                    11257,
                    11265,
                    11370,
                    11889,
                    11928,
                    12267,
                    12337,
                    12770,
                    13299,
                    13389,
                    13393,
                    13419,
                    13507,
                    13570,
                    14408,
                    15119,
                    15347,
                    15439,
                    15475,
                    15716,
                    16101,
                    16226,
                    16448,
                    16952,
                    17455,
                    17947,
                    18889,
                    18907,
                    19094,
                    19215,
                    19470,
                    19772,
                    19781,
                    19826,
                    19830,
                    19920,
                    21160,
                    21273,
                    21621,
                    21805,
                    21894,
                    22026,
                    23097,
                    23399,
                    23562,
                    23688,
                    23900,
                    24624,
                    24983,
                    25381,
                    25578,
                    25782,
                    26125,
                    26203,
                    26787,
                    26897,
                    26995,
                    27256,
                    27363,
                    28140,
                    28600,
                    28896,
                    28977,
                    29201,
                    29234,
                    29260,
                    29719,
                    29733,
                    30245,
                    30403,
                    30583,
                    31377,
                    31544,
                    31994,
                    32455,
                    32561,
                    33063,
                    33970,
                    34224,
                    34438,
                    34702,
                    35381,
                    36416,
                    36493,
                    36623,
                    36953,
                    37302,
                    37674,
                    37740,
                    37959,
                    39071,
                    39291,
                    39354,
                    40433,
                    40580,
                    40875,
                    41123,
                    41175,
                    41761,
                    43209,
                    43583,
                    44267,
                    44571,
                    44580,
                    44833,
                    44909,
                    45020,
                    45089,
                    45125,
                    45482,
                    45533,
                    45812,
                    45898,
                    46591,
                    46604,
                    46621,
                    47024,
                    47393,
                    47415,
                    47659,
                    47731,
                    47793,
                    47931,
                    48064,
                    48398,
                    48810,
                    49313,
                    49865,
                    50566,
                    50926,
                    51242,
                    51429,
                    51658,
                    51750,
                    51883,
                    51993,
                    52153,
                    52175,
                    52294,
                    52486,
                    52518,
                    52644,
                    54433,
                    54804,
                    54810,
                    54912,
                    54937,
                    55272,
                    55642,
                    56045,
                    56429,
                    56838,
                    56875,
                    57753,
                    58411,
                    58619,
                    58829,
                    58875,
                    59399,
                    59795,
                    59853,
                    60515,
                    61027,
                    61078,
                    61614,
                    61897,
                    62141,
                    62147,
                    62656,
                    62733,
                    62845,
                    62966,
                    63114,
                    63262,
                    63417,
                    63565,
                    63972,
                    64089,
                    64589,
                    64709,
                    64895,
                    65066,
                    65078,
                    65100,
                    65889,
                    66510,
                    67100,
                    67566,
                    67676,
                    67847,
                    67947,
                    68838,
                    69220,
                    69239,
                    69693,
                    69807,
                    70069,
                    70239,
                    70335,
                    70868,
                    70984,
                    71194,
                    71793,
                    72016,
                    72118,
                    72226,
                    72963,
                    73148,
                    73304,
                    73434,
                    73972,
                    74115,
                    74231,
                    74289,
                    74830,
                    74868,
                    75107,
                    75290,
                    75642,
                    75752,
                    76008,
                    76231,
                    76387,
                    76414,
                    76748,
                    76750,
                    77217,
                    77905,
                    78738,
                    78941,
                    79316,
                    79817,
                    79929,
                    79988,
                    80074,
                    80377,
                    80443,
                    80487,
                    80949,
                    81134,
                    81797,
                    82238,
                    82657,
                    83137,
                    83153,
                    83341,
                    83419,
                    83743,
                    84268,
                    84296,
                    84820,
                    85319,
                    85587,
                    85847,
                    86313,
                    86584,
                    87051,
                    87584,
                    87641,
                    88630,
                    89181,
                    89204,
                    89291,
                    89391,
                    89485,
                    90448,
                    90504,
                    90709,
                    90770,
                    91133,
                    91251,
                    91362,
                    91618,
                    91945,
                    92588,
                    93256,
                    93337,
                    93929,
                    94611,
                    94781,
                    95609,
                    95814,
                    95834,
                    96778,
                    96965,
                    96976,
                    97039,
                    98261,
                    98322,
                    99239,
                    99371,
                    99394
                ],
                "target": 60707
            },
            "expected": 200
        },
    ]
    for test_case in test_cases:
        print("running -> ", test_case["name"])
        assert first_not_smaller(
            test_case["input"]["arr"], test_case["input"]["target"]) == test_case["expected"]


def test_find_first_occurrence():
    test_cases = [
        {
            "name": 'test case 1',
            "input": {
                "arr": [1, 3, 3, 3, 3, 6, 10, 10, 10, 100],
                "target": 3
            },
            "expected": 1
        },
        {
            "name": 'test case 2',
            "input": {
                "arr": [2, 3, 5, 7, 11, 13, 17, 19],
                "target": 6
            },
            "expected": -1
        }
    ]
    for test_case in test_cases:
        print("running -> ", test_case["name"])
        assert find_first_occurrence(
            test_case["input"]["arr"], test_case["input"]["target"]) == test_case["expected"]
